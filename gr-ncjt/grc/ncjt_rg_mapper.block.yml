id: ncjt_rg_mapper
label: RG Mapper
category: '[dMIMO]'

templates:
  imports: from gnuradio import ncjt
  make: ncjt.rg_mapper(${nstrm}, ${n_ofdm_syms}, ${sc_num}, ${pilot_sc_ind}, ${addcs}, ${debug}, ${numue}, ${ueidx}, ${mucpt}, ${addltf}, ${ltfdata})

parameters:
  - id: nstrm
    label: Number of Streams
    dtype: int
    default: 1
  - id: n_ofdm_syms
    label: Num OFDM Syms
    dtype: int
    default: 40
  - id: sc_num
    label: Num Subcarriers
    dtype: int
    default: 56
    readonly: true
  - id: pilot_sc_ind
    label: Pilot Subcarrier Indices
    dtype: int_vector
    default: [7, 21, 34, 48]
    readonly: true
    hide: part
  - id: addcs
    label: Add Cyclic Shift
    dtype: bool
    default: 'False'
    options: [ 'True', 'False' ]
    option_labels: [ Enable, Disable ]
  - id: debug
    label: Debug
    dtype: bool
    default: 'False'
    options: [ 'True', 'False' ]
    option_labels: [ Enable, Disable ]
    hide: part
  - id: numue
    label: Number of UEs
    dtype: int
    default: '1'
    hide: part
  - id: ueidx
    label: UE index
    dtype: int
    default: '-1'
    hide: part
  - id: mucpt
    label: MU CPT
    dtype: bool
    default: 'False'
    options: [ 'True', 'False' ]
    hide: part
  - id: addltf
    label: Add LTF
    dtype: bool
    default: 'False'
    options: [ 'True', 'False' ]
    hide: part
  - id: ltfdata
    label: LTF Data
    dtype: file_open
    hide: part


inputs:
  - label: in
    domain: stream
    dtype: complex

outputs:
  - label: out
    domain: stream
    dtype: complex
    multiplicity: ${nstrm}

file_format: 1