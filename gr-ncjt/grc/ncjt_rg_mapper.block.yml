id: ncjt_rg_mapper
label: RG Mapper
category: '[dMIMO]'

templates:
  imports: from gnuradio import ncjt
  make: ncjt.rg_mapper(${fftsize}, ${nstrms}, ${framelen}, ${ndatasyms}, ${npilotsyms}, ${nctrlsyms}, ${datamodtype}, ${ctrlmodtype}, ${numue}, ${ueidx}, ${mucpt}, ${ltfdata}, ${addltf}, ${addcs}, ${debug})

parameters:
  - id: fftsize
    label: FFT Size
    dtype: int
    default: '64'
    hide: part
  - id: nstrms
    label: Number of Streams
    dtype: int
    default: 1
    options: [ 1, 2, 3, 4, 5, 6, 7, 8 ]
    hide: part
  - id: framelen
    label: Frame Length
    dtype: int
  - id: ndatasyms
    label: Data Symbols
    dtype: int
  - id: npilotsyms
    label: Pilot Symbols
    dtype: int
    default: '0'
    hide: part
  - id: nctrlsyms
    label: Ctrl Symbols
    dtype: int
    default: '0'
    hide: part
  - id: datamodtype
    label: Data Modulation
    dtype: int
    default: 2
    options: [ 2, 4, 6, 8 ]
    option_labels: [ 'QPSK', '16QAM', '64QAM', '256QAM' ]
  - id: ctrlmodtype
    label: Ctrl Modulation
    dtype: int
    default: 2
    options: [ 2, 4, 6]
    option_labels: [ 'QPSK', '16QAM', '64QAM']
  - id: numue
    label: Number of UEs
    dtype: int
    default: '1'
    hide: part
  - id: ueidx
    label: UE index
    dtype: int
    default: '-1'
    hide: part
  - id: mucpt
    label: MU CPT
    dtype: bool
    default: 'False'
    options: [ 'True', 'False' ]
    hide: part
  - id: ltfdata
    label: LTF Data
    dtype: file_open
    hide: part
  - id: addltf
    label: Add LTF
    dtype: bool
    default: 'False'
    options: [ 'True', 'False' ]
    hide: part
  - id: addcs
    label: Add Cyclic Shift
    dtype: bool
    default: 'True'
    options: [ 'True', 'False' ]
    hide: part
  - id: debug
    label: Debug
    dtype: bool
    default: 'False'
    options: [ 'True', 'False' ]
    option_labels: [ Enable, Disable ]
    hide: part

inputs:
  - domain: stream
    dtype: byte
    vlen: 1

outputs:
  - label: out
    domain: stream
    dtype: complex
    multiplicity: ${nstrms}

file_format: 1
