id: ncjt_mimo_detect
label: MIMO Detect
category: '[dMIMO]'

templates:
  imports: from gnuradio import ncjt
  make: ncjt.mimo_detect(${fftsize}, ${nrx}, ${nss}, ${ndatasymbols}, ${logfreq}, ${debug})

parameters:
  - id: fftsize
    label: FFT Size
    dtype: int
    default: '64'
    hide: part
  - id: nrx
    label: Num Rx Antennas
    dtype: int
    default: '2'
  - id: nss
    label: Num Streams
    dtype: int
    default: '2'
  - id: ndatasymbols
    label: Symbols per Packet
    dtype: int
  - id: logfreq
    label: Log Frequency
    dtype: int
    default: 10
    hide: part
  - id: showmaxllr
    label: Max LLR
    dtype: bool
    default: 'False'
    options: [ 'True', 'False' ]
    option_labels: [ Enable, Disable ]
    hide: part
  - id: debug
    label: Debug
    dtype: bool
    default: 'False'
    options: [ 'True', 'False' ]
    option_labels: [ Enable, Disable ]
    hide: part

inputs:
  - label: in
    domain: stream
    dtype: complex
    multiplicity: ${nrx}

outputs:
  - label: out
    domain: stream
    dtype: complex
    multiplicity: ${nss}
  - label: maxllr
    domain: message
    optional: true
    hide: ${not showmaxllr}

file_format: 1
