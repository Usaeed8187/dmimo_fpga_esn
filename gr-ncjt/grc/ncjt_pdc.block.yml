id: ncjt_pdc
label: PDC
category: '[dMIMO]'

templates:
  imports: from gnuradio import ncjt
  make: ncjt.pdc(${rgmode}, ${combiner}, ${num_copies}, ${expire_ms}, ${num_threads}, ${deterministic_input}, ${debug})

parameters:
- id: rgmode
  label: RG Mode
  dtype: int
  default: 0
  options: [0, 1, 2, 3, 4, 5, 6, 7]
  hide: part
- id: combiner
  label: Combiner
  dtype: int
  default: 1
  options: [ 1, 2, 3 ]
  option_labels: [ HLL, Majority, HLL+Majority ]
- id: num_copies
  label: Number of Copies
  dtype: int
  default: 1
- id: expire_ms
  label: Expiration Time (ms)
  dtype: int
  default: 100
- id: num_threads
  label: Number of Threads
  dtype: int
  default: 0
- id: deterministic_input
  label: Deterministic/Video Input
  dtype: bool
  default: 'False'
  options: [ 'True', 'False' ]
  option_labels: [ Enable, Disable ]
- id: debug
  label: Debug
  dtype: bool
  default: 'False'
  options: [ 'True', 'False' ]
  option_labels: [ Enable, Disable ]
  hide: part

inputs:
  - label: in
    domain: stream
    dtype: complex
    multiplicity: ${num_copies}
  - label: csi
    domain: stream
    dtype: complex
    multiplicity: ${num_copies}

outputs:
  - label: combined
    domain: stream
    dtype: byte
    multiplicity: ${ 2 if combiner == 3 else 1}
file_format: 1
